<!DOCTYPE html lang="en">
<html>
<link rel="stylesheet" href="css/tracemap.css">
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="js/tracemap.js"></script>

<head>
    <meta charset="utf-8"/>
</head>
<body>
<div class=map-header>
 
 	<span class=title>Movement of Illegal Guns</span>
   <br>
   <br>
	Select the year to display <select name="traceYear" onchange="setDisplayYear(this)">
  		<option value="2010" selected>2010</option>
  		<option value="2011">2011</option>
  		<option value="2012">2012</option>
	</select>
</div>

<div id=map-display class=map-display>
<script>
	loadStatesData(2010);
	var mapHeight = document.getElementById("map-display").clientHeight;
	var mapWidth = document.getElementById("map-display").clientWidth;
	displayMap(mapWidth,mapHeight);
</script>
</div>

<div class=map-text>

	<span class=table-title id=originState></span>
	<br>
	<br>
    <span id=displayStateDetails class=template>
    <span id=numGunsTraced></span> guns recovered in the US originated in <span id=stateName></span>.  This represents 
    <span id=pctAllTracedGuns></span> of all guns recovered in the US for this year, and equates to 
    <span id=gunsPerCapita></span> guns traced per 100,000 residents. 
	<br><br>
    <span class=table-title>Where these Guns were Found</span>
    <br><br>
    <span id=displayStateTable class=state-table>
	</span>
    </span>
</div>
 
<img src="images/legend.png" width=50%/>

</body>

<script>

function setDisplayYear(selectObj) {
	
	loadStatesData(selectObj.value);
	clearMapColors();	
}

</script>

</html>

